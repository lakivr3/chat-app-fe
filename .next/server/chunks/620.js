exports.id=620,exports.ids=[620],exports.modules={7729:()=>{},9727:()=>{},7990:()=>{},7447:(e,t,s)=>{Promise.resolve().then(s.bind(s,4782)),Promise.resolve().then(s.bind(s,9e3)),Promise.resolve().then(s.bind(s,2249)),Promise.resolve().then(s.bind(s,5774)),Promise.resolve().then(s.bind(s,448)),Promise.resolve().then(s.bind(s,998))},591:(e,t,s)=>{Promise.resolve().then(s.bind(s,1058)),Promise.resolve().then(s.bind(s,1444)),Promise.resolve().then(s.bind(s,7733)),Promise.resolve().then(s.bind(s,6810)),Promise.resolve().then(s.bind(s,124)),Promise.resolve().then(s.bind(s,2403))},3505:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3219,23)),Promise.resolve().then(s.t.bind(s,4863,23)),Promise.resolve().then(s.t.bind(s,5155,23)),Promise.resolve().then(s.t.bind(s,802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,8530,23)),Promise.resolve().then(s.t.bind(s,8921,23))},9953:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,3875,23)),Promise.resolve().then(s.t.bind(s,1284,23)),Promise.resolve().then(s.t.bind(s,7174,23)),Promise.resolve().then(s.t.bind(s,4178,23)),Promise.resolve().then(s.t.bind(s,7190,23)),Promise.resolve().then(s.t.bind(s,1365,23))},1058:(e,t,s)=>{"use strict";s.d(t,{default:()=>p});var n=s(5512),o=s(6810),r=s(8009),a=s(5609),l=s(6409),i=s(2092),c=s(5120),d=s(8531),u=s.n(d),h=s(9334);let p=()=>{let{logout:e,authUser:t,checkAuth:s}=(0,r.useContext)(o.F);return(0,h.useRouter)(),(0,r.useEffect)(()=>{s()},[]),(0,n.jsx)("header",{className:"bg-base-100 border-b border-base-300 fixed w-full top-0 z-40    backdrop-blur-lg bg-base-100/80",children:(0,n.jsx)("div",{className:"container mx-auto px-4 h-16",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,n.jsx)("div",{className:"flex items-center gap-8",children:(0,n.jsxs)(u(),{href:"/",className:"flex items-center gap-2.5 hover:opacity-80 transition-all",children:[(0,n.jsx)("div",{className:"size-9 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,n.jsx)(a.A,{className:"w-5 h-5 text-primary"})}),(0,n.jsx)("h1",{className:"text-lg font-bold",children:"Drogovori"})]})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(u(),{href:"/settings",className:`
              btn btn-sm gap-2 transition-colors
              
              `,children:[(0,n.jsx)(l.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Settings"})]}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u(),{href:"/profile",className:"btn btn-sm gap-2",children:[(0,n.jsx)(i.A,{className:"size-5"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Profile"})]}),(0,n.jsxs)("button",{className:"flex gap-2 items-center",onClick:e,children:[(0,n.jsx)(c.A,{className:"size-5"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})]})})})}},1444:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var n=s(5512),o=s(8009),r=s(124);function a({children:e}){let{theme:t}=(0,o.useContext)(r.D);return(0,n.jsx)("div",{"data-theme":t,className:"w-full h-full",children:e})}},7733:(e,t,s)=>{"use strict";s.d(t,{U:()=>i,default:()=>c});var n=s(5512),o=s(8009),r=s(2403),a=s(5827),l=s(6810);let i=(0,o.createContext)(),c=({children:e})=>{let{socket:t}=(0,o.useContext)(l.F),[s,c]=(0,o.useState)(),[d,u]=(0,o.useState)([]),[h,p]=(0,o.useState)([]),[f,m]=(0,o.useState)(null),[x,b]=(0,o.useState)(!1),[g,v]=(0,o.useState)(!1);console.log(t);let C=(0,o.useCallback)(async()=>{b(!0);try{let e=await a.S.get("/messages/users");p(e.data)}catch(e){r.Ay.error(e?.response?.data?.message||"Failed to fetch users")}finally{b(!1)}},[]),y=(0,o.useCallback)(async e=>{v(!0);try{let t=await a.S.get(`/messages/${e}`);u(t.data)}catch(e){r.Ay.error(e?.response?.data?.message)}finally{v(!1)}},[]),j=(0,o.useCallback)(async e=>{console.log(f);try{let t=await a.S.post(`/messages/send/${f._id}`,e);u(e=>[...e,t.data])}catch(e){r.Ay.error("Failed to send message")}},[f]),k=(0,o.useCallback)(()=>{if(!t||!f){console.error("no socket found");return}t?.on("newMessage",e=>{e.senderId!==f._id&&console.log("received msg:",e),u(t=>[...t,e])})},[t,f]),P=(0,o.useCallback)(()=>{t?.off("newMessage")},[t,f]);return(0,n.jsx)(i.Provider,{value:{chat:s,setChat:c,messages:d,setMessages:u,users:h,setUsers:p,selectedUser:f,setSelectedUser:m,isUsersLoading:x,setIsUsersLoading:b,isMessagesLoading:g,setIsMessagesLoading:v,getMessages:y,getUsers:C,sendMessage:j,subscribeToMessages:k,unsubscribeToMessages:P},children:e})}},6810:(e,t,s)=>{"use strict";s.d(t,{F:()=>i,default:()=>c});var n=s(5512),o=s(5827);s(9334),s(3685);var r=s(8009),a=s(2403),l=s(2226);let i=(0,r.createContext)(),c=({children:e})=>{let[t,s]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!0),[b,g]=(0,r.useState)([]),[v,C]=(0,r.useState)(null),y=(0,r.useCallback)(async()=>{if(!t?._id){console.error("No authUser or userId found");return}console.log("Connecting socket for user:",t._id);let e=(0,l.io)("http://localhost:5001",{query:{userId:t._id}});return e.on("connect",()=>{console.log("Socket connected:",e.id)}),e.on("connect_error",e=>{console.error("Socket connection error:",e)}),e.on("getOnlineUsers",e=>{console.log("Online users:",e),g(e)}),console.log(e),C(e),()=>{e.disconnect()}},[t]),j=async()=>{v?.connected&&v.disconnect()},k=(0,r.useCallback)(async()=>{try{let e=await o.S.get("/auth/check");s(e.data)}catch(e){console.error("Auth check failed:",e),s(null)}finally{x(!1)}},[]),P=async e=>{d(!0);try{let t=await o.S.post("/auth/signup",e);s(t.data),console.log(t.data),a.Ay.success("Account created successfully!"),y()}catch(e){a.Ay.error("Signup failed")}finally{d(!1),console.log(t)}},S=async()=>{try{await o.S.post("/auth/logout"),s(null),a.Ay.success("Logged out successfully"),j()}catch(e){a.Ay.error(e.message)}},A=async e=>{h(!0);try{let t=await o.S.post("/auth/login",e);s(t.data),a.Ay.success("Logged in successfully"),y()}catch(e){a.Ay.error("Failed to login")}finally{h(!1)}},w=async e=>{f(!0);try{let t=await o.S.put("/auth/update-profile",e);s(t.data),a.Ay.success("Profile updated succesfully")}catch(e){console.log("error in update profile:",e),a.Ay.error(e?.response?.data?.message)}finally{f(!1)}};return(0,r.useEffect)(()=>{t?._id?y():j()},[t,y]),(0,n.jsx)(i.Provider,{value:{authUser:t,setAuthUser:s,isSigningUp:c,setIsSigningUp:d,isLoggingIn:u,setIsLoggingIn:h,isUpdatingProfile:p,setIsUpdatingProfile:f,isCheckingAuth:m,setIsCheckingAuth:x,checkAuth:k,signup:P,logout:S,login:A,updateProfile:w,onlineUsers:b,setOnlineUsers:g,connectSocket:y,socket:v,setSocket:C},children:e})}},124:(e,t,s)=>{"use strict";s.d(t,{D:()=>r,default:()=>a});var n=s(5512),o=s(8009);let r=(0,o.createContext)(),a=({children:e})=>{let[t,s]=(0,o.useState)(localStorage.getItem("chat-theme")||"light");return(0,n.jsx)(r.Provider,{value:{theme:t,setTheme:s},children:e})}},5827:(e,t,s)=>{"use strict";s.d(t,{S:()=>n});let n=s(5668).A.create({baseURL:"http://localhost:5001/api",withCredentials:!0})},9019:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>f});var n=s(2740),o=s(4668),r=s.n(o),a=s(5482),l=s.n(a);s(2704);var i=s(5774),c=s(4782),d=s(998),u=s(448),h=s(9e3),p=s(2249);let f={title:"Create Next App",description:"Generated by create next app"};function m({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:`${r().variable} ${l().variable} antialiased`,children:(0,n.jsx)(u.default,{children:(0,n.jsx)(i.default,{children:(0,n.jsxs)(p.default,{children:[(0,n.jsxs)(h.default,{children:[(0,n.jsx)(c.default,{}),e]}),(0,n.jsx)(d.Toaster,{})]})})})})})}},4782:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});let n=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\dange\\\\Desktop\\\\chat-app\\\\frontend\\\\components\\\\Navbar.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\dange\\Desktop\\chat-app\\frontend\\components\\Navbar.jsx","default")},9e3:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});let n=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\dange\\\\Desktop\\\\chat-app\\\\frontend\\\\components\\\\ThemeWrapper.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\dange\\Desktop\\chat-app\\frontend\\components\\ThemeWrapper.jsx","default")},2249:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var n=s(6760);(0,n.registerClientReference)(function(){throw Error("Attempted to call ChatContext() from the server but ChatContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\dange\\Desktop\\chat-app\\frontend\\context\\chat.jsx","ChatContext");let o=(0,n.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\dange\\\\Desktop\\\\chat-app\\\\frontend\\\\context\\\\chat.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\dange\\Desktop\\chat-app\\frontend\\context\\chat.jsx","default")},5774:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var n=s(6760);(0,n.registerClientReference)(function(){throw Error("Attempted to call GlobalContext() from the server but GlobalContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\dange\\Desktop\\chat-app\\frontend\\context\\global.jsx","GlobalContext");let o=(0,n.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\dange\\\\Desktop\\\\chat-app\\\\frontend\\\\context\\\\global.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\dange\\Desktop\\chat-app\\frontend\\context\\global.jsx","default")},448:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var n=s(6760);(0,n.registerClientReference)(function(){throw Error("Attempted to call ThemeContext() from the server but ThemeContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\dange\\Desktop\\chat-app\\frontend\\context\\theme.jsx","ThemeContext");let o=(0,n.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\dange\\\\Desktop\\\\chat-app\\\\frontend\\\\context\\\\theme.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\dange\\Desktop\\chat-app\\frontend\\context\\theme.jsx","default")},2704:()=>{}};