(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{1226:()=>{},3398:(e,s,t)=>{Promise.resolve().then(t.bind(t,9783))},9783:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(5155),l=t(7179),r=t(8162);t(7595);var c=t(6822),n=t(2472),i=t(5548),o=t(6152),d=t(7752),u=t(632),m=t(2783),h=t(8173),x=t.n(h),p=t(6046),y=t(2115),f=t(5037);let v=()=>{let[e,s]=(0,y.useState)(!1),[t,h]=(0,y.useState)({fullName:"",email:"",password:""}),{signup:v,isSigningUp:N,authUser:j}=(0,y.useContext)(r.F);(0,y.useEffect)(()=>{j&&(0,p.redirect)("/")},[j]);let b=()=>t.fullName.trim()?t.email.trim()?/\S+@\S+\.\S+/.test(t.email)?t.password?!(t.password.length<6)||f.Ay.error("Password must be at least 6 characters"):f.Ay.error("Password is required"):f.Ay.error("Invalid email format"):f.Ay.error("Email is required"):f.Ay.error("Full name is required");return(0,a.jsxs)("div",{className:"min-h-screen grid lg:grid-cols-2",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center items-center p-6 sm:p-12",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 group:",children:[(0,a.jsx)("div",{className:"size-12 rounded-xl bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:(0,a.jsx)(c.A,{className:"size-6 text-primary"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold mt-2",children:"Create Account"}),(0,a.jsx)("p",{className:"text-base-content/60",children:"Get started with your free account"})]})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),!0===b()&&v(t),console.log(j)},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text font-medium",children:"Full Name"})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(n.A,{className:"size-5 text-base-content/40"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full pl-10",placeholder:"John Doe",value:t.fullName,onChange:e=>h({...t,fullName:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text font-medium",children:"Email"})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(i.A,{className:"size-5 text-base-content/40"})}),(0,a.jsx)("input",{type:"email",className:"input input-bordered w-full pl-10",placeholder:"you@example.com",value:t.email,onChange:e=>h({...t,email:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text font-medium",children:"Password"})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(o.A,{className:"size-5 text-base-content/40"})}),(0,a.jsx)("input",{type:e?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"••••••••",value:t.password,onChange:e=>h({...t,password:e.target.value})}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!e),children:e?(0,a.jsx)(d.A,{className:"size-5 text-base-content/40"}):(0,a.jsx)(u.A,{className:"size-5 text-base-content/40"})})]})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-full",disabled:N,children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{className:"size-5 animate-spin"}),"Loading..."]}):"Create Account"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-base-content/60",children:["Already have an account?"," ",(0,a.jsx)(x(),{href:"/login",className:"link link-primary",children:"Sign in"})]})})]})}),(0,a.jsx)(l.A,{title:"Join our community",subtitle:"Connect with friends, share moments, and stay in touch with your loved ones."})]})}},7179:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155);let l=e=>{let{title:s,subtitle:t}=e;return(0,a.jsx)("div",{className:"hidden lg:flex items-center justify-center bg-base-200 p-12",children:(0,a.jsxs)("div",{className:"max-w-md text-center",children:[(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[...Array(9)].map((e,s)=>(0,a.jsx)("div",{className:"aspect-square rounded-2xl bg-primary/10 ".concat(s%2==0?"animate-pulse":"")},s))}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:s}),(0,a.jsx)("p",{className:"text-base-content/60",children:t})]})})}},8162:(e,s,t)=>{"use strict";t.d(s,{F:()=>i,default:()=>o});var a=t(5155),l=t(7595);t(6046),t(5521);var r=t(2115),c=t(5037),n=t(1319);let i=(0,r.createContext)(),o=e=>{let{children:s}=e,[t,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!0),[v,N]=(0,r.useState)([]),[j,b]=(0,r.useState)(null),g=(0,r.useCallback)(async()=>{if(!(null==t?void 0:t._id)){console.error("No authUser or userId found");return}console.log("Connecting socket for user:",t._id);let e=(0,n.io)("http://localhost:5001",{query:{userId:t._id}});return e.on("connect",()=>{console.log("Socket connected:",e.id)}),e.on("connect_error",e=>{console.error("Socket connection error:",e)}),e.on("getOnlineUsers",e=>{console.log("Online users:",e),N(e)}),console.log(e),b(e),()=>{e.disconnect()}},[t]),A=async()=>{(null==j?void 0:j.connected)&&j.disconnect()},w=(0,r.useCallback)(async()=>{try{let e=await l.S.get("/auth/check");o(e.data)}catch(e){console.error("Auth check failed:",e),o(null)}finally{f(!1)}},[]),k=async e=>{u(!0);try{let s=await l.S.post("/auth/signup",e);o(s.data),console.log(s.data),c.Ay.success("Account created successfully!"),g()}catch(e){c.Ay.error("Signup failed")}finally{u(!1),console.log(t)}},S=async()=>{try{await l.S.post("/auth/logout"),o(null),c.Ay.success("Logged out successfully"),A()}catch(e){c.Ay.error(e.message)}},C=async e=>{h(!0);try{let s=await l.S.post("/auth/login",e);o(s.data),c.Ay.success("Logged in successfully"),g()}catch(e){c.Ay.error("Failed to login")}finally{h(!1)}},z=async e=>{p(!0);try{let s=await l.S.put("/auth/update-profile",e);o(s.data),c.Ay.success("Profile updated succesfully")}catch(e){var s,t;console.log("error in update profile:",e),c.Ay.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)}finally{p(!1)}};return(0,r.useEffect)(()=>{(null==t?void 0:t._id)?g():A()},[t,g]),(0,a.jsx)(i.Provider,{value:{authUser:t,setAuthUser:o,isSigningUp:d,setIsSigningUp:u,isLoggingIn:m,setIsLoggingIn:h,isUpdatingProfile:x,setIsUpdatingProfile:p,isCheckingAuth:y,setIsCheckingAuth:f,checkAuth:w,signup:k,logout:S,login:C,updateProfile:z,onlineUsers:v,setOnlineUsers:N,connectSocket:g,socket:j,setSocket:b},children:s})}},7595:(e,s,t)=>{"use strict";t.d(s,{S:()=>a});let a=t(2651).A.create({baseURL:"http://localhost:5001/api",withCredentials:!0})},7752:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},632:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2783:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6152:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5548:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2472:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[150,474,441,517,358],()=>s(3398)),_N_E=e.O()}]);